(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{127:function(e,t,n){},128:function(e,t,n){},148:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(59),r=n.n(i),o=n(7),s=n(10),d=n(113),l=(n(127),n(8)),u=n(15),j=Object(u.a)(),p=(n(128),n(20)),b=n(21),m=n(24),h=n(23),f=n(22),O=n(12),v=n.n(O),x=n(11),_=n(29),y="ADD_TODO",g="FETCH_TODOLIST",N="FETCH_TODOHISTORY",C="DELETE_TODOLIST",T="FETCH_TODO",k=" COMPLETED_TODO",w="EDIT_TODO",D="RESTORE_FROM_HISTORY",L="DELETE_FROM_HISTORY",E=n(114),H=n.n(E).a.create({baseURL:"https://localhost:5001/api"}),S=function(){return function(){var e=Object(_.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("/todos");case 2:n=e.sent,t({type:g,payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F=n(118),A=n(63),I=n.p+"static/media/delete.307efb8d.svg",R=n.p+"static/media/confirm.3bd4c654.svg",M=n.p+"static/media/save.60e32a3f.svg",P=n.p+"static/media/calendar.aab8d423.svg",V=(n(148),n(1)),Y=function(e,t,n,a){var c=e.values;if((t.title!==c.title||t.description!==c.description)&&!t.isCompleted)return Object(V.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),n(t.id,c),a(c)},className:"adding__edit",children:Object(V.jsx)("div",{className:"adding__circle",children:Object(V.jsx)("img",{src:M,alt:"Pencil",className:"adding__edit-icon"})})})},J=function(e){if(e)return Object(V.jsx)("img",{src:R,alt:"confirm",className:"adding__confirm-icon"})},K=function(e){if(e.isCompleted)return Object(V.jsxs)("div",{className:"date",children:[Object(V.jsx)("p",{className:"date__content",children:e.completionDate.substr(0,10)}),Object(V.jsx)("img",{src:P,alt:"Calendar",className:"adding__calendar-icon"})]})},U=Object(s.b)(null,{completedTodo:function(e,t){return function(){var n=Object(_.a)(v.a.mark((function n(a){var c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H.patch("/todos/".concat(e),{status:t});case 2:c=n.sent,a({type:k,payload:c.data});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},editTodo:function(e,t){return function(){var n=Object(_.a)(v.a.mark((function n(a){var c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H.put("/todos/".concat(e),t);case 2:c=n.sent,a({type:w,payload:c.data});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.completedTodo,n=e.editTodo,c=e.data,i=Object(a.useState)({}),r=Object(F.a)(i,2),o=r[0],s=r[1],d=Object(A.a)({initialValues:c,onSubmit:function(e){s(e)}});Object(a.useEffect)((function(){s(d.initialValues)}),[d.initialValues]);var l=function(e){return"confirm"===e?Object(V.jsx)("button",{onClick:function(e){return function(e,t,n){e.preventDefault(),n(t.id,!t.isCompleted)}(e,o,t)},className:"adding__confirm",children:Object(V.jsx)("div",{className:"adding__circle",children:J(o.isCompleted)})}):"delete"===e?Object(V.jsx)(f.a,{to:"/todolist/delete/".concat(o.id),className:"adding__delete",children:Object(V.jsx)("div",{className:"adding__circle",children:Object(V.jsx)("img",{src:I,alt:"cross",className:"adding__delete-icon"})})}):void 0};return Object(V.jsxs)("form",{className:"adding__note",children:[l("confirm"),Object(V.jsx)("input",{id:"title",name:"title",type:"text",onChange:d.handleChange,value:d.values.title,className:"field field__title",autoComplete:"off",disabled:o.isCompleted?"disabled":""}),Object(V.jsx)("input",{id:"description",name:"description",type:"text",onChange:d.handleChange,value:d.values.description,className:"field field__description",autoComplete:"off",disabled:o.isCompleted?"disabled":""}),Y(d,o,n,s),K(o),l("delete")]})})),X=n.p+"static/media/plus.f5927ca9.svg",B=(n(151),function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchTodoList()}},{key:"renderTodoList",value:function(){return this.props.todoList?this.props.todoList.map((function(e){return e.isCompleted?null:Object(V.jsx)("div",{children:Object(V.jsx)(U,{data:e})},e.id)})):Object(V.jsx)("div",{children:"Loading..."})}},{key:"render",value:function(){return Object(V.jsxs)("div",{className:"newTodo",children:[Object(V.jsxs)(f.a,{to:"/todolist/add",className:"adding__new-note",children:[Object(V.jsx)("img",{src:X,alt:"Plus",className:"adding__new-note_icon"}),"Add"]}),Object(V.jsx)("div",{className:"adding",children:this.renderTodoList()})]})}}]),n}(c.a.Component)),q=Object(s.b)((function(e){return{todoList:Object.values(e.todoList)}}),{fetchTodoList:S})(B),z=(n(152),function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchTodoList()}},{key:"renderList",value:function(){return this.props.todoList?this.props.todoList.map((function(e){return e.isCompleted?Object(V.jsx)("div",{children:Object(V.jsx)(U,{data:e})},e.id):null})):Object(V.jsx)("div",{children:"Loading...!"})}},{key:"renderContent",value:function(){return"/"===j.location.pathname?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("h3",{className:"completedTodo__title",children:"Completed"}),Object(V.jsx)("div",{className:"completed",children:this.renderList()})]}):Object(V.jsx)("div",{className:"completed",style:{height:"70rem"},children:this.renderList()})}},{key:"render",value:function(){return Object(V.jsx)("div",{className:"completedTodo",children:this.renderContent()})}}]),n}(c.a.Component)),G=Object(s.b)((function(e){return{todoList:Object.values(e.todoList)}}),{fetchTodoList:S})(z),Q=(n(153),n.p+"static/media/history.04a5aa17.svg"),W=n.p+"static/media/home.2ca6a2ac.svg",Z=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={location:"/"},e}return Object(b.a)(n,[{key:"renderHeader",value:function(){return"/history"===j.location.pathname?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("h1",{className:"header__title",children:"History"}),Object(V.jsx)(f.a,{to:"/",className:"header__history-link",children:Object(V.jsx)("img",{src:W,alt:"Home",className:"header__history-icon"})})]}):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("h1",{className:"header__title",children:"My To Do List"}),Object(V.jsx)(f.a,{to:"/history",className:"header__history-link",children:Object(V.jsx)("img",{src:Q,alt:"History",className:"header__history-icon"})})]})}},{key:"render",value:function(){return Object(V.jsx)("div",{className:"header",children:this.renderHeader()})}}]),n}(c.a.Component),$=function(){return Object(V.jsxs)("div",{children:[Object(V.jsx)(Z,{}),Object(V.jsx)(q,{}),Object(V.jsx)(G,{})]})},ee=n.p+"static/media/arrow-up.ab317b3b.svg",te=Object(s.b)(null,{deleteFromHistory:function(e){return function(){var t=Object(_.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.delete("/history/".concat(e));case 2:n({type:L,payload:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},restoreFromHistory:function(e){return function(){var t=Object(_.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.put("/history/".concat(e));case 2:n({type:D,payload:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t,n=Object(A.a)({initialValues:e.todo,onSubmit:function(e){console.log(e)}}),a=function(t){return"confirm"===t?Object(V.jsx)("button",{onClick:function(t){return function(e,t){t.preventDefault(),e.restoreFromHistory(e.todo.id)}(e,t)},className:"adding__confirm",children:Object(V.jsx)("div",{className:"adding__circle",children:Object(V.jsx)("img",{src:ee,alt:"arrow",className:"adding__confirm-icon"})})}):"delete"===t?Object(V.jsx)("button",{onClick:function(t){return function(e,t){t.preventDefault(),e.deleteFromHistory(e.todo.id)}(e,t)},className:"adding__delete",children:Object(V.jsx)("div",{className:"adding__circle",children:Object(V.jsx)("img",{src:I,alt:"cross",className:"adding__delete-icon"})})}):void 0};return Object(V.jsxs)("form",{className:"adding__note",children:[a("confirm"),Object(V.jsx)("input",{id:"title",name:"title",type:"text",onChange:n.handleChange,value:n.values.title,className:"field field__title",autoComplete:"off",disabled:"disabled"}),Object(V.jsx)("input",{id:"description",name:"description",type:"text",onChange:n.handleChange,value:n.values.description,className:"field field__description",autoComplete:"off",disabled:"disabled"}),(t=e.todo,Object(V.jsxs)("div",{className:"date",children:[Object(V.jsx)("p",{className:"date__content",children:t.completionDate.substr(0,10)}),Object(V.jsx)("img",{src:P,alt:"Calendar",className:"adding__calendar-icon"})]})),a("delete")]})})),ne=Object(s.b)((function(e){return{todoHistory:Object.values(e.todoHistory)}}),{fetchTodoHistory:function(){return function(){var e=Object(_.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("/history");case 2:n=e.sent,t({type:N,payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){return Object(a.useEffect)((function(){e.fetchTodoHistory()}),[]),Object(V.jsxs)("div",{children:[Object(V.jsx)(Z,{}),(t=e.todoHistory,t.map((function(e){return Object(V.jsx)(te,{todo:e},e.id)})))]});var t})),ae=(n(154),function(e){return Object(V.jsx)("div",{onClick:e.onDismiss,className:"ui dimmer modals visible active",children:Object(V.jsxs)("div",{onClick:function(e){return e.stopPropagation()},className:"modal__box",children:[Object(V.jsx)("div",{className:"modal__box-title",children:e.title}),Object(V.jsx)("div",{className:"modal__box-content",children:e.content})]})})}),ce=n(257),ie=n(256),re=(n(155),function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).renderError=function(e){var t=e.error;if(e.touched&&t)return Object(V.jsx)("p",{className:"error__message",children:t})},e.renderInput=function(t){var n=t.input,a=t.label,c=t.meta;return Object(V.jsxs)("div",{className:"add__field",children:[Object(V.jsx)("label",{className:"add__field-title",children:a}),Object(V.jsx)("input",Object(x.a)(Object(x.a)({placeholder:"Enter a ".concat(a),className:"add__field-input"},n),{},{autoComplete:"off"})),e.renderError(c)]})},e.onSubmit=function(t){e.props.onSubmit(t)},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(V.jsxs)("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"todoForm",children:[Object(V.jsx)(ce.a,{name:"title",component:this.renderInput,label:"Title"}),Object(V.jsx)(ce.a,{name:"description",component:this.renderInput,label:"Description"}),Object(V.jsxs)("div",{className:"actions",children:[Object(V.jsx)("button",{className:" button button__action",children:this.props.action}),Object(V.jsx)(f.a,{to:"/",className:" button button__cancel",children:"Cancel"})]})]})}}]),n}(c.a.Component)),oe=Object(ie.a)({form:"todoForm",validate:function(e){var t={};return(!e.title||e.title.length<5)&&(t.title="You must enter more than 5 characters!"),(!e.description||e.description.length<10)&&(t.description="You must enter more than 10 characters!"),t}})(re),se=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).onSubmit=function(t){e.props.addTodo(t)},e}return Object(b.a)(n,[{key:"renderContent",value:function(){return Object(V.jsx)(oe,{title:"Title",description:"Description",action:"Add",onSubmit:this.onSubmit})}},{key:"render",value:function(){return Object(V.jsx)(ae,{title:"Adding a new note",content:this.renderContent(),onDismiss:function(){return j.push("/")}})}}]),n}(c.a.Component),de=Object(s.b)(null,{addTodo:function(e){return function(){var t=Object(_.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.post("/todos",Object(x.a)({},e));case 2:a=t.sent,n({type:y,payload:a.data}),j.push("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(se),le=(n(254),function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).onClick=function(){e.props.deleteTodoList(e.props.match.params.id)},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchTodo(this.props.match.params.id)}},{key:"renderTitle",value:function(){return this.props.todo&&this.props.todo.title?'Are you sure you want to delete "'.concat(this.props.todo.title,'" note?'):"Are you sure you want to delete this note?"}},{key:"renderContent",value:function(){return Object(V.jsxs)("div",{className:"delete",children:[Object(V.jsx)("h3",{className:"delete__title",children:this.renderTitle()}),Object(V.jsxs)("div",{className:"actions",children:[Object(V.jsx)("button",{onClick:this.onClick,className:"button button__action",children:"Delete"}),Object(V.jsx)(f.a,{to:"/",className:"button button__cancel",children:"Cancel"})]})]})}},{key:"render",value:function(){return Object(V.jsx)(ae,{title:"Deleting a note",content:this.renderContent(),onDismiss:function(){return j.push("/")}})}}]),n}(c.a.Component)),ue=Object(s.b)((function(e,t){return{todo:e.todoList[t.match.params.id]}}),{deleteTodoList:function(e){return function(){var t=Object(_.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.delete("/todos/".concat(e));case 2:n({type:C,payload:e}),j.push("/");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},fetchTodo:function(e){return function(){var t=Object(_.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.get("/todos/".concat(e));case 2:a=t.sent,n({type:T,payload:a.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(le),je=function(){return Object(V.jsx)("div",{className:"App",children:Object(V.jsx)(l.b,{history:j,children:Object(V.jsxs)(l.c,{children:[Object(V.jsx)(l.a,{path:"/",exact:!0,component:$}),Object(V.jsx)(l.a,{path:"/history",exact:!0,component:ne}),Object(V.jsx)(l.a,{path:"/todolist/add",exact:!0,component:de}),Object(V.jsx)(l.a,{path:"/todolist/delete/:id",exact:!0,component:ue})]})})})},pe=n(258),be=n(36),me=n(37),he=n.n(me),fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(x.a)(Object(x.a)({},e),{},Object(be.a)({},t.payload.id,t.payload));case g:return Object(x.a)(Object(x.a)({},e),he.a.mapKeys(t.payload,"id"));case y:return Object(x.a)(Object(x.a)({},e),{},Object(be.a)({},t.payload.id,t.payload));case C:return he.a.omit(e,t.payload);case w:case k:return Object(x.a)(Object(x.a)({},e),{},Object(be.a)({},t.payload.id,t.payload));default:return e}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(x.a)(Object(x.a)({},e),he.a.mapKeys(t.payload,"id"));case D:case L:return he.a.omit(e,t.payload);default:return e}},ve=Object(o.c)({todoList:fe,todoHistory:Oe,form:pe.a}),xe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,_e=Object(o.e)(ve,xe(Object(o.a)(d.a)));r.a.render(Object(V.jsx)(s.a,{store:_e,children:Object(V.jsx)(je,{})}),document.getElementById("root"))}},[[255,1,2]]]);
//# sourceMappingURL=main.d25bb076.chunk.js.map